#!/bin/bash

# 1. 첫 번째 인자($1)가 비어있는지 확인
if [ -z "$1" ]; then
    echo "❌ 오류: 커밋 메시지를 입력해야 합니다!"
    echo "사용법: ./commit.sh \"여기에 메시지 입력\""
    exit 1  # 스크립트 강제 종료 (반영 안 됨)
fi

# 2. 메시지가 있을 때만 아래 로직 수행
echo "시작: 변경 사항을 장바구니에 담습니다..."
git add .

echo "진행: 커밋을 실행합니다..."
git commit -m "$1"

echo "--------------------------------"
echo "커밋이 완료되었습니다!"

# 깃헙으로 자동 전송하는 코드 추가
echo "🚀 깃헙(GitHub)으로 전송 중..."
git push origin main 

echo "--------------------------------"
echo "✅ 성공: 깃헙 반영 완료!"
